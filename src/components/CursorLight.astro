---
---
<div class="cursor-glow" aria-hidden="true"></div>

<script type="module" client:load>
  const glow = document.querySelector('.cursor-glow');
  if (glow) {
    let targetX = -9999;
    let targetY = -9999;
    let currentX = -9999;
    let currentY = -9999;
    let rafId = null;

    const lerp = (a, b, n) => a + (b - a) * n;

    const animate = () => {
      currentX = lerp(currentX, targetX, 0.45);
      currentY = lerp(currentY, targetY, 0.45);
      glow.style.transform = `translate3d(${currentX}px, ${currentY}px, 0)`;
      rafId = requestAnimationFrame(animate);
    };

    const start = () => {
      if (!rafId) rafId = requestAnimationFrame(animate);
    };

    document.addEventListener('mousemove', (event) => {
      targetX = event.clientX - 250;
      targetY = event.clientY - 250;
      start();
    });

    document.addEventListener('mouseleave', () => {
      targetX = -9999;
      targetY = -9999;
    });
  }
</script>
