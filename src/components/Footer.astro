---
import config from '../lib/config.json';
import Monogram from './Monogram.astro';
const basePath = Astro.site ? new URL(Astro.site).pathname.replace(/\/$/, '') : '';
// build a simple initials fallback from the first two name initials
const initials = (config.hero && config.hero.name)
  ? config.hero.name.split(' ').filter(Boolean).map(n => n[0]).slice(0,2).join('').toUpperCase()
  : '';
---
<footer class="site-footer" id="site-footer">
  <div class="inner footer-grid">
    <div class="footer__col footer__brand">
      <div class="footer__brand-grid">
        <div class="brand-monogram">
          <Monogram username={config.social.github} initials={initials} size={36} />
        </div>
        <div class="brand-name">
          <a class="footer__name logo text-2xl font-bold" href={basePath + '/'}>{config.hero.name}</a>
        </div>
        <div class="brand-tag text-sm">{config.hero.title}</div>
        <div class="brand-email text-sm"><a href={`mailto:${config.social.email}`}>{config.social.email}</a></div>
      </div>
    </div>

    <div class="footer__col footer__links">
      <h4 class="text-sm font-semibold" style="margin:0 0 8px;">Explore</h4>
      <ul class="footer-nav" style="margin:0;padding:0;list-style:none;">
        <li><a href={basePath + '/'}>Home</a></li>
        <li><a href={basePath + '/projects'}>Projects</a></li>
        <li><a href={basePath + '/resume'}>Resume</a></li>
        <li><a href={basePath + '/about'}>About</a></li>
        <li><a href={basePath + '/contact'}>Contact</a></li>
      </ul>
    </div>

    <div class="footer__col footer__contact">
      <h4 class="text-sm font-semibold" style="margin:0 0 8px;">Connect</h4>
      <div class="socials" style="display:flex;gap:10px;align-items:center;">
        <a class="social-link" href={`https://github.com/${config.social.github}`} target="_blank" rel="noopener" aria-label="GitHub">
          <svg aria-hidden="true"><use href={`${basePath}/icons.svg#github`} /></svg>
        </a>
        <a class="social-link" href={`mailto:${config.social.email}`} aria-label="Email">
          <svg aria-hidden="true"><use href={`${basePath}/icons.svg#mail`} /></svg>
        </a>
        <a class="social-link" href={`https://www.linkedin.com/in/${config.social.linkedin}`} target="_blank" rel="noopener" aria-label="LinkedIn">
          <svg aria-hidden="true"><use href={`${basePath}/icons.svg#linkedin`} /></svg>
        </a>
      </div>

      <a class="back-to-top text-sm" href="#top" style="display:inline-block;margin-top:10px;color:var(--muted);">Back to top ↑</a>
    </div>
  </div>

  <div class="inner footer__credits" style="margin-top:18px;border-top:1px solid rgba(255,255,255,0.03);padding-top:18px;">
    <p class="text-sm" style="color:var(--muted);margin:0;">&copy; {new Date().getFullYear()} {config.hero.name}. Built with ❤.</p>
  </div>
</footer>