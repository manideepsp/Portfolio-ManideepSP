---
import BaseLayout from '../layouts/BaseLayout.astro';
import ScrollRevealWrapper from '../components/ScrollRevealWrapper.astro';
import ExperienceTimeline from '../components/ExperienceTimeline.astro';
import fs from 'fs';

let aboutHtml = '';

try {
  const md = fs.readFileSync(new URL('../../content/about.md', import.meta.url), 'utf8');
  aboutHtml = md.split('\n\n').map(p => `<p>${p.replace(/\n/g, ' ')}</p>`).join('');
} catch (e) {
  aboutHtml = '<p>No about content yet.</p>';
}
---
<BaseLayout title="About">
  <section>
    <ScrollRevealWrapper>
      <h1>About</h1>
    </ScrollRevealWrapper>
    <ScrollRevealWrapper delay={100}>
      <div class="markdown-render" innerHTML={aboutHtml}></div>
    </ScrollRevealWrapper>
  </section>

  <section>
    <h2>Experience</h2>
    <ExperienceTimeline />
  </section>
</BaseLayout>
 